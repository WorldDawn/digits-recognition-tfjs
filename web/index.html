<!DOCTYPE html>
<html>
    <head>
        <title>Simple demo</title>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
        <script src='http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.4.0/fabric.min.js'></script>
        <link href="https://cdn.muicss.com/mui-0.9.42/css/mui.min.css" rel="stylesheet" type="text/css" />
        <script src='./model.js'></script>
    </head>
    <body>
        <p>Simple demo</p>
        <div id='container'>
            <canvas width="140" height="140" id="canvas" class="canvas"></canvas>
            <div class='button-container'>
                <button class="mui-btn mui-btn--primary btn" onclick="recognize()">recognize</button>
                <button class="mui-btn mui-btn--danger btn" onclick="clear_canvas()">clear</button>   
            </div>
        </div>
    </body>
    <script>
        var fabric_canvas = new fabric.Canvas('canvas', {backgroundColor: "#000000"});
        fabric_canvas.renderTop();
        fabric_canvas.isDrawingMode = true;
        fabric_canvas.freeDrawingBrush.width = 12;
        fabric_canvas.freeDrawingBrush.color = "#ffffff";

        var recognize = async function() {
            var results = await predict('canvas');
            console.log(results)
        }

        var clear_canvas = function() {
            fabric_canvas.clear();
        }
    </script>
    <style>
        #container {
            width: 300px;
            text-align: center;
        }

        .canvas-container {

        }
        .button-container {
            display: flex;
            justify-content: center;
        }
        .btn {
            width: 140px;
        }
    </style>
</html>